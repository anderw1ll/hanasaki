<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  <title>Check-in do Aluno ¬∑ mobile</title>
  <style>
    /* reset e base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(145deg, #fce4e9 0%, #f8d5e0 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 16px;
      margin: 0;
      position: relative;
      overflow-x: hidden;
    }

    /* ===== ANIMA√á√ÉO DE P√âTALAS (SAKURA) ===== */
    .petals-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      overflow: hidden;
    }

    .petal {
      position: absolute;
      background: rgba(255, 200, 220, 0.8);
      border-radius: 150% 0 150% 0;
      width: 18px;
      height: 22px;
      transform: rotate(45deg);
      opacity: 0.8;
      filter: blur(0.4px);
      box-shadow: 0 0 6px #ffc0cb80;
      animation: floatPetal linear infinite;
    }

    .petal:nth-child(2n) {
      background: rgba(255, 180, 200, 0.85);
      width: 14px;
      height: 18px;
    }
    .petal:nth-child(3n) {
      background: rgba(240, 150, 180, 0.75);
      width: 22px;
      height: 26px;
    }
    .petal:nth-child(5n) {
      background: rgba(255, 210, 220, 0.9);
      width: 16px;
      height: 20px;
    }

    @keyframes floatPetal {
      0% {
        left: -10%;
        transform: translateY(0) rotate(0deg) scale(0.9);
        opacity: 0.9;
      }
      20% { transform: translateY(15vh) rotate(60deg) scale(1.1); }
      40% { transform: translateY(28vh) rotate(120deg) scale(0.9); }
      60% { transform: translateY(42vh) rotate(200deg) scale(1.0); }
      80% { transform: translateY(60vh) rotate(280deg) scale(0.8); }
      100% {
        left: 110%;
        transform: translateY(80vh) rotate(360deg) scale(0.6);
        opacity: 0.2;
      }
    }

    .ground-petals {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100px;
      background: radial-gradient(circle at 10% 100%, rgba(255, 170, 190, 0.3) 4px, transparent 8px),
                  radial-gradient(circle at 50% 100%, rgba(240, 140, 170, 0.3) 6px, transparent 12px),
                  radial-gradient(circle at 80% 100%, rgba(255, 200, 210, 0.4) 5px, transparent 10px),
                  radial-gradient(circle at 30% 90%, rgba(250, 150, 170, 0.2) 3px, transparent 7px);
      background-size: 80px 40px, 120px 60px, 200px 80px, 150px 50px;
      background-repeat: repeat-x;
      pointer-events: none;
      z-index: 1;
      opacity: 0.9;
      filter: blur(1px);
    }

    /* Logo centralizado acima do card */
    .logo-container {
      position: relative;
      z-index: 3;
      margin-bottom: 16px;
      text-align: center;
    }

    .logo-circle {
      width: 80px;
      height: 80px;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 3px solid rgba(180, 120, 130, 0.6);
      box-shadow: 0 6px 14px rgba(180, 120, 130, 0.3);
      margin: 0 auto;
    }

    .logo-circle span {
      font-size: 36px;
      font-weight: 600;
      color: #8b4b5e;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    /* Card principal */
    .card {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      width: 100%;
      max-width: 380px;
      border-radius: 40px;
      padding: 28px 24px;
      box-shadow: 0 20px 35px -8px rgba(60, 30, 30, 0.2),
                  0 8px 12px -4px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(255, 230, 240, 0.6);
      position: relative;
      z-index: 2;
    }

    /* Transi√ß√µes suaves entre formul√°rio e info */
    #login-form, #aluno-info {
      transition: opacity 0.4s ease;
    }

    #aluno-info {
      display: none;
      opacity: 0;
    }

    .header-text {
      margin-bottom: 20px;
    }

    .header-text h1 {
      font-size: 28px;
      font-weight: 700;
      letter-spacing: -0.3px;
      color: #2d1f2b;
      margin-bottom: 4px;
      line-height: 1.2;
    }

    .header-text p {
      font-size: 15px;
      color: #5f4b55;
      font-weight: 400;
      border-left: 3px solid rgba(180, 120, 130, 0.7);
      padding-left: 14px;
    }

    .input-group {
      margin-bottom: 22px;
    }

    .input-group label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      color: #4d3740;
      margin-bottom: 6px;
      letter-spacing: -0.2px;
      text-shadow: 0 1px 2px rgba(255,255,255,0.5);
    }

    .input-group input {
      width: 100%;
      background: rgba(255, 245, 245, 0.7);
      border: 1.5px solid rgba(200, 160, 170, 0.6);
      border-radius: 24px;
      padding: 16px 20px;
      font-size: 16px;
      color: #2a1c22;
      outline: none;
      transition: border 0.15s, box-shadow 0.15s, background 0.2s;
      font-weight: 450;
      backdrop-filter: blur(4px);
    }

    .input-group input:focus {
      border-color: #b5778c;
      background: rgba(255, 255, 255, 0.9);
      box-shadow: 0 0 0 4px rgba(181, 119, 140, 0.15);
    }

    .input-group input::placeholder {
      color: #aa8c97;
      font-weight: 400;
      opacity: 0.6;
    }

    /* bot√£o com estados e anima√ß√£o de falha */
    .btn-entrar {
      background: rgba(139, 75, 94, 0.9);
      color: white;
      width: 100%;
      border: none;
      border-radius: 60px;
      padding: 18px 20px;
      font-size: 18px;
      font-weight: 600;
      letter-spacing: 0.3px;
      margin-top: 18px;
      margin-bottom: 18px;
      transition: background 0.15s, transform 0.1s, box-shadow 0.2s;
      box-shadow: 0 8px 18px -6px rgba(120, 60, 70, 0.3);
      cursor: pointer;
      backdrop-filter: blur(2px);
    }

    .btn-entrar.verde {
      background: rgba(70, 130, 100, 0.9);
    }

    .btn-entrar.vermelho {
      background: rgba(180, 80, 80, 0.9);
    }

    @keyframes falhaTremor {
      0% { transform: translateX(0); }
      20% { transform: translateX(-5px); }
      40% { transform: translateX(5px); }
      60% { transform: translateX(-3px); }
      80% { transform: translateX(3px); }
      100% { transform: translateX(0); }
    }

    .btn-entrar.falha-anim {
      animation: falhaTremor 0.4s ease-in-out;
      background: rgba(200, 90, 90, 0.95);
    }

    .erro-msg {
      color: #b34a4a;
      text-align: center;
      font-weight: 500;
      margin-top: -10px;
      margin-bottom: 15px;
      font-size: 16px;
      text-shadow: 0 1px 2px white;
      opacity: 0;
      transition: opacity 0.3s;
      display: none;
    }

    .erro-msg.visivel {
      display: block;
      opacity: 1;
    }

    /* Blocos de informa√ß√£o do aluno */
    .bloco {
      background: rgba(255, 240, 245, 0.5);
      backdrop-filter: blur(4px);
      border-radius: 24px;
      padding: 18px 16px;
      margin-bottom: 18px;
      border: 1px solid rgba(180, 120, 130, 0.3);
    }

    .bloco h3 {
      margin-bottom: 12px;
      color: #6a3e5a;
      font-size: 18px;
      font-weight: 600;
      text-align: center; /* Centraliza t√≠tulos dos blocos 1 e 3 */
    }

    .bloco p {
      margin: 8px 0;
      font-size: 16px;
      color: #2d1f2b;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .bloco strong {
      color: #6a3e5a;
      font-weight: 600;
    }

    .bloco span {
      background: rgba(255,255,255,0.6);
      padding: 4px 12px;
      border-radius: 40px;
      font-weight: 500;
    }

    /* Linha do check-in com flex para alinhar esquerda/direita */
    .checkin-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 16px;
      color: #2d1f2b;
    }
    .checkin-row .label {
      color: #6a3e5a;
      font-weight: 600;
    }
    .checkin-row .valor {
      background: rgba(255,255,255,0.6);
      padding: 4px 12px;
      border-radius: 40px;
      font-weight: 500;
      text-align: right;
    }

    /* Estilo para as avalia√ß√µes de sentimento */
    .avaliacao-item {
      margin-bottom: 20px;
    }
    .avaliacao-item h4 {
      font-size: 16px;
      color: #5a3e5a;
      margin-bottom: 8px;
      font-weight: 600;
    }
    .emote-group {
      display: flex;
      justify-content: space-between;
      gap: 6px;
    }
    .emote-group label {
      flex: 1;
      text-align: center;
      background: rgba(255, 245, 250, 0.6);
      border-radius: 30px;
      padding: 8px 2px;
      font-size: 20px;
      border: 1.5px solid transparent;
      transition: all 0.2s;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      line-height: 1.2;
    }
    .emote-group label span {
      font-size: 12px;
      color: #6a4b57;
      margin-top: 2px;
    }
    .emote-group input[type="radio"] {
      display: none;
    }
    .emote-group input[type="radio"]:checked + label {
      background: #d9b4c0;
      border-color: #a6576e;
      transform: scale(1.02);
    }

    textarea {
      width: 100%;
      background: rgba(255, 245, 245, 0.7);
      border: 1.5px solid rgba(200, 160, 170, 0.6);
      border-radius: 24px;
      padding: 14px 18px;
      font-size: 14px;
      color: #2a1c22;
      outline: none;
      resize: vertical;
      min-height: 80px;
      font-family: inherit;
      backdrop-filter: blur(4px);
      margin-top: 10px;
    }
    textarea:focus {
      border-color: #b5778c;
      background: rgba(255, 255, 255, 0.9);
    }
    .contador-caracteres {
      text-align: right;
      font-size: 12px;
      color: #7a637a;
      margin-top: 4px;
    }

    /* Frase motivacional */
    .frase-motivacional {
      margin-top: 20px;
      text-align: center;
      font-size: 14px;
      font-style: italic;
      color: #5a3e5a;
      border-top: 1px solid rgba(200, 170, 180, 0.4);
      padding-top: 16px;
      padding-bottom: 4px;
    }

    .frase-motivacional .autor {
      display: block;
      font-size: 12px;
      font-weight: 600;
      margin-top: 6px;
      color: #7a4f6a;
    }

    @media (max-width: 360px) {
      .card { padding: 20px 18px; }
      .header-text h1 { font-size: 24px; }
    }
  </style>
</head>
<body>
  <!-- p√©talas animadas -->
  <div class="petals-container">
    <div class="petal" style="top: 5%; left: -5%; animation-duration: 14s; animation-delay: 0s;"></div>
    <div class="petal" style="top: 15%; left: -8%; animation-duration: 18s; animation-delay: 2s;"></div>
    <div class="petal" style="top: 25%; left: -2%; animation-duration: 16s; animation-delay: 1s;"></div>
    <div class="petal" style="top: 35%; left: -12%; animation-duration: 20s; animation-delay: 3s;"></div>
    <div class="petal" style="top: 45%; left: -7%; animation-duration: 15s; animation-delay: 0.5s;"></div>
    <div class="petal" style="top: 55%; left: -15%; animation-duration: 22s; animation-delay: 4s;"></div>
    <div class="petal" style="top: 65%; left: -3%; animation-duration: 17s; animation-delay: 1.2s;"></div>
    <div class="petal" style="top: 75%; left: -10%; animation-duration: 19s; animation-delay: 2.5s;"></div>
    <div class="petal" style="top: 85%; left: -6%; animation-duration: 21s; animation-delay: 0.8s;"></div>
    <div class="petal" style="top: 95%; left: -12%; animation-duration: 23s; animation-delay: 3.7s;"></div>
    <div class="petal" style="top: 10%; left: -20%; animation-duration: 25s; animation-delay: 1.8s;"></div>
    <div class="petal" style="top: 40%; left: -18%; animation-duration: 18s; animation-delay: 2.2s;"></div>
    <div class="petal" style="top: 70%; left: -22%; animation-duration: 20s; animation-delay: 3.1s;"></div>
    <div class="petal" style="top: 20%; left: -25%; animation-duration: 16s; animation-delay: 4.5s;"></div>
  </div>
  <div class="ground-petals"></div>

  <!-- Logo centralizado acima do card -->
  <div class="logo-container">
    <div class="logo-circle">
      <span>D</span>
    </div>
  </div>

  <!-- Card principal -->
  <div class="card" role="main" aria-label="Tela de login do Dojo">
    <!-- Formul√°rio de login (vis√≠vel inicialmente) -->
    <div id="login-form">
      <div class="header-text">
        <h1>Check‚Äëin do Aluno</h1>
        <p>Insira seus dados</p>
      </div>

      <div class="input-group">
        <label for="matricula">Matr√≠cula</label>
        <input type="text" id="matricula" name="matricula" value="0001" placeholder="Matr√≠cula" inputmode="numeric">
      </div>

      <div class="input-group">
        <label for="senha">Senha</label>
        <input type="password" id="senha" name="senha" value="123" placeholder="Senha">
      </div>

      <div id="erro-msg" class="erro-msg">Falha no Login</div>

      <button class="btn-entrar" id="btnEntrar">Entrar</button>
    </div>

    <!-- Informa√ß√µes do aluno (inicialmente oculto) -->
    <div id="aluno-info">
      <!-- Bloco 1: Dados do aluno com t√≠tulo centralizado -->
      <div class="bloco">
        <h3>Dados do aluno</h3>
        <p><strong>Aluno:</strong> <span>Anderson Willian</span></p>
        <p><strong>Gradua√ß√£o:</strong> <span>Faixa Branca</span></p>
        <p><strong>Mensalidade:</strong> <span style="background: #a5d6a5;">Ok!</span></p>
        <p><strong>Indicado para Exame de Faixa:</strong> <span style="background: #c8e6c9;">Sim</span></p>
      </div>

      <!-- Bloco 2: Instrutor e Check-in (com check-in alinhado esquerda/direita) -->
      <div class="bloco">
        <p><strong>Instrutor do Dia:</strong> <span>Jonathan 2¬∫Dan</span></p>
        <!-- Linha do check-in com label √† esquerda e data/hora √† direita -->
        <div class="checkin-row">
          <span class="label">Check-in:</span>
          <span class="valor" id="data-hora"></span>
        </div>
      </div>

      <!-- Bloco 3: Como me sinto (t√≠tulo centralizado) -->
      <div class="bloco">
        <h3>Como me sinto</h3>
        
        <!-- Antes do treino -->
        <div class="avaliacao-item">
          <h4>Antes do treino</h4>
          <div class="emote-group">
            <input type="radio" name="antes" id="antes1" value="1"><label for="antes1">üòû<span>1</span></label>
            <input type="radio" name="antes" id="antes2" value="2"><label for="antes2">üòê<span>2</span></label>
            <input type="radio" name="antes" id="antes3" value="3"><label for="antes3">üôÇ<span>3</span></label>
            <input type="radio" name="antes" id="antes4" value="4"><label for="antes4">üòä<span>4</span></label>
            <input type="radio" name="antes" id="antes5" value="5"><label for="antes5">üòÅ<span>5</span></label>
          </div>
        </div>

        <!-- Ap√≥s o treino -->
        <div class="avaliacao-item">
          <h4>Ap√≥s o treino</h4>
          <div class="emote-group">
            <input type="radio" name="depois" id="depois1" value="1"><label for="depois1">üòû<span>1</span></label>
            <input type="radio" name="depois" id="depois2" value="2"><label for="depois2">üòê<span>2</span></label>
            <input type="radio" name="depois" id="depois3" value="3"><label for="depois3">üôÇ<span>3</span></label>
            <input type="radio" name="depois" id="depois4" value="4"><label for="depois4">üòä<span>4</span></label>
            <input type="radio" name="depois" id="depois5" value="5"><label for="depois5">üòÅ<span>5</span></label>
          </div>
        </div>

        <!-- Resumo do p√≥s-treino -->
        <div style="margin-top: 16px;">
          <label for="resumo" style="font-weight: 600; color:#5a3e5a; font-size:14px;">O que motivou essa nota?</label>
          <textarea id="resumo" placeholder="Conte-nos em at√© 300 caracteres..." maxlength="300"></textarea>
          <div class="contador-caracteres" id="contador">0/300</div>
        </div>
      </div>

      <button class="btn-entrar" id="btnSair" style="margin-top: 10px;">Sair</button>
    </div>

    <!-- Frase motivacional -->
    <div class="frase-motivacional">
      "A verdadeira vit√≥ria √© a vit√≥ria sobre si mesmo."
      <span class="autor">Morihei Ueshiba</span>
    </div>
  </div>

  <script>
    (function() {
      const btnEntrar = document.getElementById('btnEntrar');
      const btnSair = document.getElementById('btnSair');
      const loginForm = document.getElementById('login-form');
      const alunoInfo = document.getElementById('aluno-info');
      const matriculaInput = document.getElementById('matricula');
      const senhaInput = document.getElementById('senha');
      const erroMsg = document.getElementById('erro-msg');
      const dataHoraSpan = document.getElementById('data-hora');
      const resumoTextarea = document.getElementById('resumo');
      const contador = document.getElementById('contador');

      // Contador de caracteres
      resumoTextarea.addEventListener('input', function() {
        contador.textContent = `${this.value.length}/300`;
      });

      function atualizarDataHora() {
        const agora = new Date();
        const dia = String(agora.getDate()).padStart(2, '0');
        const mes = String(agora.getMonth() + 1).padStart(2, '0');
        const ano = agora.getFullYear();
        const hora = String(agora.getHours()).padStart(2, '0');
        const min = String(agora.getMinutes()).padStart(2, '0');
        return `${dia}/${mes}/${ano} ${hora}:${min}`;
      }

      btnEntrar.classList.remove('verde', 'vermelho', 'falha-anim');
      erroMsg.classList.remove('visivel');

      btnEntrar.addEventListener('click', function(event) {
        event.preventDefault();
        
        const matricula = matriculaInput.value.trim();
        const senha = senhaInput.value;

        btnEntrar.classList.remove('falha-anim');
        erroMsg.classList.remove('visivel');
        void btnEntrar.offsetWidth;

        if (matricula === '0001' && senha === '123') {
          btnEntrar.classList.add('verde');
          btnEntrar.classList.remove('vermelho', 'falha-anim');
          
          loginForm.style.opacity = '0';
          
          setTimeout(() => {
            loginForm.style.display = 'none';
            alunoInfo.style.display = 'block';
            void alunoInfo.offsetWidth;
            alunoInfo.style.opacity = '1';
            dataHoraSpan.textContent = `${atualizarDataHora()}`; // Apenas o valor, sem texto extra
          }, 400);
          
        } else {
          btnEntrar.classList.add('vermelho', 'falha-anim');
          btnEntrar.classList.remove('verde');
          erroMsg.classList.add('visivel');
          
          setTimeout(() => {
            btnEntrar.classList.remove('falha-anim');
          }, 500);
        }
      });

      btnSair.addEventListener('click', function() {
        alunoInfo.style.opacity = '0';
        
        setTimeout(() => {
          alunoInfo.style.display = 'none';
          loginForm.style.display = 'block';
          void loginForm.offsetWidth;
          loginForm.style.opacity = '1';
          
          btnEntrar.classList.remove('verde', 'vermelho', 'falha-anim');
          erroMsg.classList.remove('visivel');
        }, 400);
      });

      loginForm.style.opacity = '1';
      loginForm.style.display = 'block';
      alunoInfo.style.opacity = '0';
      alunoInfo.style.display = 'none';
    })();
  </script>
</body>
</html>
